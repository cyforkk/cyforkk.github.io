function initReadingProgress(){const e=document.getElementById("article-container");if(!e)return;if(GLOBAL_CONFIG_SITE&&GLOBAL_CONFIG_SITE.pageType!=="post")return;if(document.querySelector(".reading-progress-bar"))return;createProgressBar();window.addEventListener("scroll",updateProgress);updateProgress()}function createProgressBar(){const e=document.createElement("div");e.className="reading-progress-bar";e.innerHTML='<div class="reading-progress-fill"></div>';document.body.insertBefore(e,document.body.firstChild)}function updateProgress(){const e=document.querySelector(".reading-progress-fill");if(!e)return;const n=window.innerHeight;const r=document.documentElement.scrollHeight;const t=window.pageYOffset||document.documentElement.scrollTop;const o=r-n;const s=o>0?t/o*100:0;e.style.width=`${Math.min(s,100)}%`}function cleanupReadingProgress(){window.removeEventListener("scroll",updateProgress);const e=document.querySelector(".reading-progress-bar");if(e){e.remove()}}if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",initReadingProgress)}else{initReadingProgress()}document.addEventListener("pjax:complete",()=>{cleanupReadingProgress();initReadingProgress()});document.addEventListener("pjax:send",cleanupReadingProgress);